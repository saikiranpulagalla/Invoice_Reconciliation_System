# Invoice Reconciliation System - Environment Variables

# ==========================
# LLM Configuration
# ==========================
# LLM Provider: gemini (Google Gemini - recommended)
LLM_PROVIDER=gemini

# Model: gemini-2.5-flash (latest and fastest)
LLM_MODEL=gemini-2.5-flash

# API Key (required) - Get from https://aistudio.google.com/app/apikey
LLM_API_KEY=your-google-api-key-here

# LLM Parameters
LLM_TEMPERATURE=0.3
LLM_MAX_TOKENS=2000
LLM_TIMEOUT=30

# ==========================
# OCR Configuration
# ==========================
# Enable OCR for document processing
ENABLE_OCR=true

# OCR Language (eng for English)
OCR_LANGUAGE=eng

# OCR Engine: pytesseract or paddleocr
OCR_ENGINE=pytesseract

# ==========================
# Image Preprocessing
# ==========================
PREPROCESS_GRAYSCALE=true
PREPROCESS_ROTATE=true
PREPROCESS_DESKEW=true

# ==========================
# Confidence Thresholds
# ==========================
# High quality extraction threshold
EXTRACTION_CONFIDENCE_HIGH=0.85

# Acceptable quality extraction threshold
EXTRACTION_CONFIDENCE_ACCEPTABLE=0.70

# High quality match threshold
MATCHING_CONFIDENCE_HIGH=0.90

# Acceptable quality match threshold
MATCHING_CONFIDENCE_ACCEPTABLE=0.75

# Fuzzy matching similarity threshold (0-1)
FUZZY_MATCHING_THRESHOLD=0.80

# ==========================
# Discrepancy Thresholds
# ==========================
# Price variance tolerance (2% = 0.02)
PRICE_VARIANCE_TOLERANCE=0.02

# Quantity variance tolerance (5% = 0.05)
QUANTITY_VARIANCE_TOLERANCE=0.05

# ==========================
# Decision Logic
# ==========================
# Auto-approve if extraction confidence > this
AUTO_APPROVE_EXTRACTION_THRESHOLD=0.85

# Auto-approve if match confidence > this
AUTO_APPROVE_MATCH_THRESHOLD=0.90

# Auto-approve if discrepancy variance < this
AUTO_APPROVE_DISCREPANCY_THRESHOLD=0.05

# Escalate if extraction confidence < this
ESCALATE_EXTRACTION_THRESHOLD=0.50

# Escalate if match confidence < this
ESCALATE_MATCH_THRESHOLD=0.60

# Escalate if discrepancy variance > this
ESCALATE_DISCREPANCY_THRESHOLD=0.20

# ==========================
# Logging
# ==========================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file path
LOG_FILE=invoice_reconciliation.log

# ==========================
# Data Paths
# ==========================
# Invoices directory (where to look for PDFs/images)
# INVOICES_DIR=./app/data/invoices

# Purchase orders database (JSON file)
# PO_DATABASE_PATH=./app/data/purchase_orders.json

# ==========================
# API Configuration
# ==========================
# API host and port (if using FastAPI)
API_HOST=0.0.0.0
API_PORT=8000
API_DEBUG=false

# ==========================
# Workflow Configuration
# ==========================
# Enable human review agent in workflow
ENABLE_HUMAN_REVIEW=true

# Max recursion limit for graph execution
GRAPH_RECURSION_LIMIT=100

# ==========================
# Environment
# ==========================
# Environment type: development, production, test
ENV=development
